MACRO CALC &SRC, &DEST, &OP=ADD, &REG=AREG
    MOVER &REG, &SRC
    &OP &REG, ='1'
    MOVEM &REG, &DEST
MEND

MACRO PRINT &MSG, &COUNT=1, &FORMAT=CHAR
    LOOP WRITE &MSG
    SUB &COUNT, ='1'
    BC GT, LOOP
MEND

START 100
    CALC NUM1, RESULT
    CALC NUM2, RESULT, SUB, BREG
    CALC NUM3, RESULT, MUL
    PRINT MESSAGE
    PRINT MESSAGE, 5
    PRINT MESSAGE, 3, INT
    STOP

NUM1 DS 1
NUM2 DS 1
NUM3 DS 1
RESULT DS 1
MESSAGE DC 'HELLO'
END